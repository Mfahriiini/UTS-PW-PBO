<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<style>
    /* General styles */
    body {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            background: url('https://wallpapercave.com/wp/wp2046274.jpg') no-repeat center center/cover;
            color: #fff;
            overflow-y: auto;
            padding: 20px;
        }

/* Profile Card */
.profile-card {
    background: linear-gradient(135deg, #37436b81, #4b6f948e); /* Neon green to blue gradient */
    color: white;
    padding: 20px;
    border-radius: 8px;
    width: 80%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0, 255, 135, 0.5); /* Green shadow */
    margin-bottom: 20px;
    animation: slideIn 0.5s ease-in-out;
}

/* Modal styles */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.26);
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: #222;
    padding: 20px;
    border-radius: 8px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 4px 15px rgba(0, 255, 135, 0.5); /* Neon green shadow */
    position: relative;
}

.close-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: none;
    border: none;
    font-size: 20px;
    color: #ff3860;
    cursor: pointer;
    text-shadow: 0 0 5px rgba(255, 56, 96, 0.8); /* Neon pink shadow */
}

/* Buttons */
button {
    background-color: #ff3860;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    color: #fff;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s ease;
    box-shadow: 0 0 10px rgba(255, 56, 96, 0.8), 0 0 20px rgba(255, 56, 96, 0.6); /* Neon pink shadow */
}

button:hover {
    background-color: #ff616f;
}

/* Row and Card styling */
.swims-row {
    display: flex;
    justify-content: center;
    gap: 20px;
    width: 100%;
    flex-wrap: wrap;
}

.card {
    background: #33333369;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(5, 117, 230, 0.5); /* Blue shadow */
    width: 300px;
    color: #ffffff;
    text-align: center;
}

.card h3 {
    color: #00f260;
    text-shadow: 0 0 8px rgba(0, 242, 96, 0.8), 0 0 15px rgba(5, 117, 230, 0.7); /* Neon green-blue shadow */
}

.swims-list h4 {
    color: #60ff38;
    text-shadow: 0 0 8px rgba(252, 44, 172, 0.87); /* Neon pink shadow */
}

.swims-list p {
    color: #ffffff;
    text-shadow: 0 0 5px rgba(160, 160, 160, 0.6);
}S

/* Hover Effect for Cards */
.card:hover {
    transform: translateY(-10px);
    box-shadow: 0 6px 20px rgba(5, 117, 230, 0.8); /* More intense blue shadow on hover */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}



/* Updated Photo Gallery Styling for Horizontal Layout */
/* Styling for fixed header and horizontal scrolling gallery */
.photo-gallery {
    position: relative;
    padding: 80px;
    color: #ffffff;
    text-align: center;
}

.fixed-heading {
    position: relative;
    top: 0;
    background: rgba(0, 0, 0, 0.7); /* Background for readability */
    padding: 10px;
    margin-bottom: 10px; /* Space below heading */
    text-shadow: 0 0 8px rgba(0, 255, 135, 0.8), 0 0 15px rgba(5, 117, 230, 0.7); /* Neon shadow */
}

.photo-container {
    display: flex;
    gap: 50px;
    overflow-x: auto; /* Enables horizontal scrolling */
    white-space: nowrap; /* Keeps photos in one line */
    padding: 10px;
}

.photo {
    flex: 0 0 auto; /* Prevents images from shrinking */
    text-align: center;
}

.photo img {
    width: 400px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.photo img:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
}

.caption {
    margin-top: 8px;
    font-size: 1rem;
    text-shadow: 0 0 5px rgba(160, 160, 160, 0.6);
}



/* Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideIn {
    from {
        transform: translateY(-50px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}


</style>
<body>
    <!-- Profile Section -->
    <div class="profile-card">
        <h2>Welcome, <%= user.name %>!</h2>
        <p><strong>Email:</strong> <%= user.email %></p>
        <p><strong>Nim:</strong> <%= user.nim %></p>
        <p><strong>Major:</strong> <%= user.major %></p>
        <p><strong>Birth_place_date:</strong> <%= user.birth_place_date %></p>
        <p><strong>Address:</strong> <%= user.address %></p>
        <p><strong>Email:</strong> <%= user.email %></p>
        <p><strong>Media:</strong> <%= user.instrument %></p>
        <p><strong>created_at:</strong> <%= user.created_at %></p>
        <button onclick="openModal('update-profile-modal')">Update Profile</button>
    </div>

    <!-- Update Profile Modal -->
    <div class="modal" id="update-profile-modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('update-profile-modal')">&times;</button>
            <h3>Update Profile</h3>
            <form action="/profile/update" method="POST">
                <input type="text" name="name" value="<%= user.name %>" required>
                <input type="text" name="nim" value="<%= user.nim %>" required>
                <input type="text" name="major" value="<%= user.major %>" required>
                <input type="text" name="birth_place_date" value="<%= user.birth_place_date %>" required>
                <input type="text" name="address" value="<%= user.address %>" required>
                <input type="email" name="email" value="<%= user.email %>" required>
                <input type="text" name="instrument" value="<%= user.instrument %>" required>
                <button type="submit">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Swims Management Section -->
    <div class="swims-row">
        <!-- Add New Swim -->
        <div class="card">
            <h3>Add New Swim</h3>
            <button onclick="openModal('add-swim-modal')">Add New Swim</button>
            <div class="modal" id="add-swim-modal">
                <div class="modal-content">
                    <button class="close-btn" onclick="closeModal('add-swim-modal')">&times;</button>
                    <h3>Add New Swim</h3>
                    <form action="/swims/add" method="POST">
                        <input type="text" name="name" placeholder="Swim Name" required>
                        <input type="text" name="tools" placeholder="Tools" required>
                        <input type="text" name="technic" placeholder="Technic" required>
                        <input type="text" name="type" placeholder="Type" required>
                        <input type="text" name="difficulty" placeholder="Difficulty" required>
                        <textarea name="diagram" placeholder="Diagram"></textarea>
                        <input type="number" step="0.01" name="progress" placeholder="Progress" required>
                        <button type="submit">Add Swim</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Swims Preview and Management -->
        <div class="card">
            <h3>Your Swims</h3>
            <div class="swims-list">
                <% swims.forEach(swim => { %>
                    <div class="swim-item">
                        <h4><%= swim.name %></h4>
                        <p><strong>Tools:</strong> <%= swim.tools %></p>
                        <p><strong>Technic:</strong> <%= swim.technic %></p>
                        <p><strong>Type:</strong> <%= swim.type %></p>
                        <p><strong>Difficulty:</strong> <%= swim.difficulty %></p>
                        <p><strong>Progress:</strong> <%= swim.progress %>%</p>
                        <p><strong>Created At:</strong> <%= new Date(swim.created_at).toDateString() %></p>
                        <button onclick="openModal('update-swim-modal-<%= swim.id %>')">Update Swim</button>
                        <form action="/swims/delete/<%= swim.id %>" method="POST" style="display:inline;">
                            <button type="submit" class="delete-btn">Delete Swim</button>
                        </form>
                        <!-- Update Swim Modal -->
                        <div class="modal" id="update-swim-modal-<%= swim.id %>">
                            <div class="modal-content">
                                <button class="close-btn" onclick="closeModal('update-swim-modal-<%= swim.id %>')">&times;</button>
                                <h3>Update Swim</h3>
                                <form action="/swims/update/<%= swim.id %>" method="POST">
                                    <input type="text" name="name" value="<%= swim.name %>" required>
                                    <input type="text" name="tools" value="<%= swim.tools %>" required>
                                    <input type="text" name="technic" value="<%= swim.technic %>" required>
                                    <input type="text" name="type" value="<%= swim.type %>" required>
                                    <input type="text" name="difficulty" value="<%= swim.difficulty %>" required>
                                    <textarea name="diagram"><%= swim.diagram %></textarea>
                                    <input type="number" step="0.01" name="progress" value="<%= swim.progress %>">
                                    <button type="submit">Update Swim</button>
                                </form>
                            </div>
                        </div>
                    </div>
                <% }) %>
            </div>
        </div>
    </div>
    <div class="photo-gallery card">
        <h3>Progress swims</h3>
            <div class="photo-container">
                <div class="photo">
                    <img src="https://i.pinimg.com/originals/08/66/50/0866508fcbe64d59f0470cafbedb0e64.gif" alt="Photo 1">
                    <p class="caption">Swimming glide style</p>
                </div>
                <div class="photo">
                    <img src="https://i.pinimg.com/originals/92/2e/d8/922ed89dba1558db4149d3b7f51d17eb.gif" alt="Photo 2">
                    <p class="caption">Freestyle Swimming</p>
                </div>
                <div class="photo">
                    <img src="https://i.pinimg.com/originals/89/40/6c/89406c40596429c5cd6e288d8ab14be0.gif" alt="Photo 3">
                    <p class="caption">Backstroke swimming</p>
                </div>
                <div class="photo">
                    <img src="https://i.pinimg.com/originals/09/23/30/092330c11a5a47dc941adb57a096e01d.gif" alt="Photo 4">
                    <p class="caption">Swim breaststroke/frog style</p>
                </div>
                <div class="photo">
                    <img src="https://i.pinimg.com/originals/20/64/c6/2064c6eef6e1bb0670ba3595e9b44d73.gif" alt="Photo 5">
                    <p class="caption">Swimming butterfly style</p>
                </div>
            </div>
        </div>
        

    <script>
        // Function to open modal
        function openModal(id) {
            document.getElementById(id).style.display = 'flex';
        }

        // Function to close modal
        function closeModal(id) {
            document.getElementById(id).style.display = 'none';
        }
    </script>
</body>
</html>
